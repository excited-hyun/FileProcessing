# Project 2
**본 프로젝트에서는 기존 프로젝트에서 구현한 내용을 완성하고 관리자 모드 및 인덱스 기능을 추가하도록 한다.**
<br/> <br/>

## 구현된 프로그램

### 1) 로그인 구현
로그인 할 때 입력받은 ID 와 password 를 확인하여 존재하지 않는 아이디이거나 password 가 일치하지 않는 경우 로그인이 수행되지 않는다. 
로그인이 가능한 경우 그 회원의 level 을 확인하여 1 인경우 관리자 모드로 GamePurchaseSystem이 수행될 수 있게 해주고 9 인 경우 일반 회원 모드로 수행될 수 있게 해준다.

### 2) 일반 멤버로의 로그인
일반회원모드에는 자신의 회원(Member) 정보에 대한 수정, 삭제(탈퇴) 기능, 모든 게임(Game) 리스트에 대한 검색 기능, 자신의 구매(Purchase) 리스트에 대한 검색, 삽입(등록), 수정, 삭제 기능을 제공한다. 다른 사용자와 관련된 모든 정보에 대해서는 검색, 수정, 삭제, 삽입 할 수 없으며 모든 경우에 대해 참조 무결성이 유지된다.
<br/><br/>


## 구현한 함수
-	MakeIndexFile  
fileOfMember.dat와 fileOfGame.dat을 기반으로 fileOfMember.ind와 fileOfGame.ind를 생성하는 함수. 처음 명령이 7로 들어오는 경우 GamePyrchaseSystem이 호출되기 전에  호출되어 인덱스 파일을 생성한다.

-	AccessValidate  
login할 때 입력받은 ID와 password를 확인하여 존재하지 않는 아이디이거나 password가 일치하지 않는 경우 로그인이 수행되지 않는다. 로그인이 가능한 경우 그 회원의 level을 확인하여 1인경우 관리자 모드로 GamePurchaseSystem()이 수행될 수 있게 해주고 9인 경우 일반 회원 모드로 GamePurchaseSystem_MemberMode()이 수행될 수 있게 해준다.

-	GamePurchaseSystem_MemberMode  
일반회원모드에는 이 함수가 실행되게 된다. 자신의 회원(Member) 정보에 대한 수정, 삭제(탈퇴) 기능, 모든 게임(Game) 리스트에 대한 검색 기능, 자신의 구매(Purchase) 리스트에 대한 검색, 삽입(등록), 수정, 삭제 기능을 제공한다. 다른 사용자와 관련된 모든 정보에 대해서는 검색, 수정, 삭제, 삽입 할 수 없으며 모든 경우에 대해 참조 무결성이 유지된다.

#### Search  
index를 활용하여 search를 구현하였다. 만들어둔 index파일을 통해 data파일에서 적합한 Member를 찾아서 출력해준다. Purchase 정보의 경우에는 fileOfPurchase.dat로부터 순차 탐색하여 검색한다.  
  
#### Insert
ID를 이용하여 검색한 후에 이미 존재한다면 에러메시지를 출력한다. 존재하지 않는 경우에 대해서만 삽입을 진행한다.  
이때 위의 Search함수를 활용하여 해당 ID를 탐색하고 이를 찾지 못했을 때, 해당 ID에 맞는 데이터들을 삽입할 수 있게 한다. 데이터가 삽입되면, TextIndexedFile.Append()을 통해 인덱스파일이 갱신되며, 이는 바로 data파일에 적용된다. Purchase의 경우에 fileOfPurchase.dat를 순차탐색하여 해당 ID를 탐색하고, 이를 찾지 못했으면 해당 ID에 맞는 데이터들을 데이터파일에 삽입한다.  
  
#### Delete
ID를 이용하여 검색한 후에 존재하지 않는다면 에러메시지를 출력한다. 존재하는 경우에 대해서만 삭제를 진행한다.  
이때 위의 Search함수를 활용하여 해당 ID를 탐색하고 이를 찾았을 때만 해당 ID에 맞는 데이터를 삭제한다. Purchase의 경우에 fileOfPurchase.dat를 순차탐색하여 해당 ID를 탐색하고, 이를 찾는 경우 이 ID에 맞는 데이터들을 데이터 파일에서 삭제한다.  
  
#### Update  
ID를 이용하여 검색한 후에 존재하지 않는다면 에러메시지를 출력한다. 존재하는 경우에 대해서만 수정을 진행한다.  
이때 위의 Search함수를 활용하여 해당 ID를 탐색하고 이를 찾았을 때만 해당 ID에 맞는 데이터를 수정한다. 수정이 이루어지면, 데이터파일을 그에 맞게 수정하고, 이를 기반으로 인덱스들을 재정렬하여 새로이 인덱스파일을 수정한다. Purchase의 경우에 fileOfPurchase.dat를 순차탐색하여 해당 ID를 탐색하고, 이를 찾는 경우 수정이 이루어지면, 데이터파일을 그에 맞게 수정한다.  

<br/><br/>

*관리자 모드의 경우 기존 project1의 기능을 그대로 사용한다*
